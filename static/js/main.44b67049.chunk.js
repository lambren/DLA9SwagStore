(this.webpackJsonpswag_store=this.webpackJsonpswag_store||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),c=n.n(o),s=(n(14),n(1)),i=(n(6),"https://tranquil-meadow-63605.herokuapp.com/"),l=n(5),u=n.n(l),m=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(!1),m=Object(s.a)(l,2),d=m[0],E=m[1],f=function(t){e.setLogin(t.target.value.toLowerCase())},h=function(t){t.preventDefault(),c(!1),E(!0),fetch(i+"swag-balance/"+e.login,{method:"GET"}).then((function(e){return e.json()})).then((function(t){if(E(!1),"SUCCEED"===t.status)t.swag?e.setSwag(parseInt(t.swag,10)):e.setSwag(0),e.setCart(t.cart),e.setID(t.user_id),e.noPassword.current=t.noPassword,e.setRoute("PASSWORD");else{if("NO_MATCH"!==t.reason)throw new Error("FAILED");c(!0)}})).catch((function(e){E(!1),console.log(e)}))},g="";return r.a.createElement("div",{className:"App",id:"main-screen"},(g="We are pleased to announce that the DLA9 SWAG Store has been RE-OPENED. Thank you all for your hard work!",r.a.createElement("div",{className:"App",id:"main-screen"},d?r.a.createElement("div",{className:"loader"}):r.a.createElement("div",{className:"inner-screen"},r.a.createElement("h1",null,"Welcome, DLA9 SWAGGERS!"),r.a.createElement("h1",{style:{padding:"20px"}},g),r.a.createElement("form",{className:"my-form",onSubmit:h},r.a.createElement("label",{htmlFor:"login"},"Enter your login to begin"),r.a.createElement("input",{type:"text",onChange:f}),r.a.createElement("button",{onClick:h},"Submit")),o?r.a.createElement("h2",null,"Sorry, I could not find your data, please provide your accurate login"):r.a.createElement("div",null),r.a.createElement("img",{src:u.a,alt:"Amazon Logo",width:"320px",height:"auto"})))))},d=n(2),E=function(e){var t=Object(d.d)();return r.a.createElement("div",{id:"nav-bar"},r.a.createElement("h3",{style:{marginLeft:"10px"}},"SWAG: $",e.balance),"STORE"===e.currentList?r.a.createElement("input",{style:{fontSize:"14px",padding:"10px"},placeholder:"Search Item...",onChange:e.onChangeSearch}):r.a.createElement("div",null),r.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse",marginRight:"10px"}},r.a.createElement("button",{onClick:e.logOut},"Log out"),r.a.createElement("button",{onClick:function(){e.setCommentPage((function(e){return!e}))}},"Comments"),"STORE"===e.currentList?r.a.createElement("button",{onClick:function(){e.setCommentPage(!1),e.setSearch(""),e.setCurrentList("LOADING"),fetch(i+"get-cart/"+e.user_id).then((function(e){return e.json()})).then((function(t){console.log(t),e.setCart(t.data),e.setCurrentList("CART")})).catch((function(n){console.log(n),t.error("Connection to the server lost! Please check your internet connection!"),e.setCurrentList("CART")}))}},"My Orders"):r.a.createElement("button",{onClick:function(){e.setCommentPage(!1),e.setSearch(""),e.setCurrentList("LOADING"),fetch(i+"get-list-of-swag").then((function(e){return e.json()})).then((function(t){e.setItemList(t.swag_items),e.setCurrentList("STORE")})).catch((function(n){console.log(n),t.error("Connection to the server lost! Please check your internet connection!"),e.setCurrentList("STORE")}))}},"Go To Store")))},f=function(e){var t=Object(d.d)(),n=Object(a.createRef)(),o=Object(a.useState)(!1),c=Object(s.a)(o,2),l=c[0],u=c[1],m=Object(a.useState)(0),E=Object(s.a)(m,2),f=E[0],h=E[1];return r.a.createElement("div",{id:"list-item",style:l?{transform:"scale(1.2)",border:"2px solid gray"}:{}},r.a.createElement("h3",null,e.item.swag_name),r.a.createElement("img",{width:"200",height:"200",src:e.item.swag_image,alt:"swag_item_image"}),e.isStore?r.a.createElement("div",null,r.a.createElement("label",null,"Price: $",e.item.price,"  "),r.a.createElement("label",null,"Stock: ",e.item.stock),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("label",null,"Quantity: "),r.a.createElement("input",{ref:n,placeholder:"0",onChange:function(e){h(e.target.value)}})),l?r.a.createElement("div",null,r.a.createElement("h4",{id:"confirm-message"},"I would like to order this item"),r.a.createElement("button",{className:"no-button",onClick:function(){return u(!1)}},"NO"),r.a.createElement("button",{className:"yes-button",onClick:function(){u(!1),function(){if(0===f)return 0;e.setCurrentList("LOADING"),fetch(i+"add-to-cart",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referredPolicy:"no-referrer",body:JSON.stringify({user_id:e.user_id,swag_item_id:e.item.swag_item_id,quantity:f})}).then((function(e){return e.json()})).then((function(n){"SUCCESS"===n.status?(console.log("SUCCESS"),e.setItemList(n.store),e.setSwag(n.swag),t.success("Order is placed. We will try our best to deliver it asap!")):"CLOSED"!==n.reason?(console.log("FAILED"),t.error("Im Sorry. Your Order Was not placed. Please check your balance and the availbility of the item!")):t.error("The SWAG Store is currently Closed! Please stay tuned for any updates! We are sorry for any inconvenience!"),e.setCurrentList("STORE")})).catch((function(n){t.error("Connection to the server lost! Please check your internet connection!"),e.setCurrentList("STORE")})),n.current.value="",h(0)}()}},"CONFIRM")):r.a.createElement("button",{onClick:function(){return u(!0)}},"Order Now!")):r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement("p",null,"Quantity: ",e.item.quantity),r.a.createElement("p",null,"Status: ",e.item.status),r.a.createElement("p",null,function(e){switch(e){case"PROCESSING":return"We are processing your order! Please check back in 1-2 days for your order status.";case"DELIVERED":return"Thank you for your purchase! Your order has been delivered!";case"RECEIVED":return"We received your order, and we are trying our best to fulfill it. Please check back later in 1 or 2 days. Thank you for your patience!";case"FULFILLED":return"We have fulfilled your order, and your items are now in the Swag Cage. You can tell a Manager to get it to you!";case"BACKORDERED":return"We are sorry, but rest assured that your items are on its way. Please check back later. Thank you for your patience!";case"CANCELLED":return"Your order has been cancelled, and you have been refunded the money for this order.";default:return""}}(e.item.status))))},h=function(e){var t=e.user_id,n=Object(a.useState)(""),o=Object(s.a)(n,2),c=o[0],l=o[1],u=Object(a.useState)(!1),m=Object(s.a)(u,2),E=m[0],f=m[1],h=Object(d.d)();return r.a.createElement("div",{id:"list-item",className:"comment-box",style:{padding:"10px"}},E?r.a.createElement("div",{className:"loader"}):r.a.createElement("div",null,r.a.createElement("h3",null,"Comment Section"),r.a.createElement("textarea",{value:c,rows:5,style:{display:"block",width:"70vw"},placeholder:"Please leave any comments for the SWAG store here. Thank you for your feed back!",onChange:function(e){return l(e.target.value)}}),r.a.createElement("button",{onClick:function(){f(!0),fetch(i+"post-comment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,content:c})}).then((function(e){return e.json()})).then((function(e){"SUCCESS"===e.status?h.success("SUCCESSFULLY POSTED COMMENT! THANK YOU FOR YOUR FEEDBACK!"):h.error("OOPS! Something went wrong! Please try again later")})).catch((function(e){console.log(e),h.error("OOPS! Something went wrong! Please try again later")})).finally((function(){l(""),f(!1)}))}},"Submit")))},g=function(e){e.user_id;var t=Object(d.d)(),n=Object(a.useState)([]),o=Object(s.a)(n,2),c=o[0],l=o[1];return Object(a.useEffect)((function(){fetch(i+"get-all-comments").then((function(e){return e.json()})).then((function(e){console.log(e),"SUCCESS"===e.status?l(e.data):t.error("ERROR FETCHING COMMENTS")})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",{id:"list-item",className:"comment-box"},r.a.createElement("h3",null,"Comments"),r.a.createElement("div",{className:"comments"},c.map((function(e){return r.a.createElement("div",{key:e.comment_id,style:{borderBottom:"solid gray 1px"}},r.a.createElement("p",null,e.user_name," (",e.user_first_name,"): ",e.content),r.a.createElement("p",null,e.response))}))))},O=function(e){var t=e.user_id;return r.a.createElement("div",{id:"main-screen",style:{marginTop:"5em"}},r.a.createElement(g,{user_id:t}),r.a.createElement(h,{user_id:t}))},S=function(e){var t=Object(a.useState)("STORE"),n=Object(s.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(""),l=Object(s.a)(i,2),m=l[0],d=l[1],h=Object(a.useState)(!1),g=Object(s.a)(h,2),S=g[0],b=g[1];return r.a.createElement("div",null,r.a.createElement(E,{currentList:o,logOut:function(){e.setRoute("LOGIN"),e.setID(""),e.setLogin("")},setCurrentList:c,balance:e.swag,setCart:e.setCart,setItemList:e.setItemList,user_id:e.user_id,onChangeSearch:function(e){d(e.target.value)},setSearch:d,setRoute:e.setRoute,setCommentPage:b}),r.a.createElement("div",null,S?r.a.createElement(O,{user_id:e.user_id}):r.a.createElement("div",{id:"main-screen"},function(){switch(o){case"LOADING":return r.a.createElement("div",{className:"loader"});case"CART":return r.a.createElement("div",{id:"list"},e.cart.map((function(t){return r.a.createElement(f,{user_id:e.user_id,isStore:!1,key:t.cart_id,item:t})})));default:return r.a.createElement("div",{id:"list"},e.itemList.filter((function(e){return e.swag_name.includes(m)})).map((function(t){return r.a.createElement(f,{user_id:e.user_id,isStore:!0,key:t.swag_item_id,item:t,setCart:e.setCart,setSwag:e.setSwag,setItemList:e.setItemList,setCurrentList:c})})))}}(),r.a.createElement("img",{src:u.a,alt:"Amazon Logo",width:"320px",height:"auto"}))))},b=function(e){var t=Object(d.d)(),n=Object(a.useState)(!1),o=Object(s.a)(n,2),c=o[0],l=o[1],m=Object(a.useState)(""),E=Object(s.a)(m,2),f=E[0],h=E[1],g=Object(a.useState)(""),O=Object(s.a)(g,2),S=O[0],b=O[1],p=function(e){h(e.target.value)},C=function(n){n.preventDefault(),f===S?(l(!0),fetch(i+"initiate-password/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.user_id,password:f})}).then((function(e){return e.json()})).then((function(n){l(!1),"SUCCESS"===n.status?(t.success("Successfully created your password! Please remember it for future log in! Enjoy shopping!"),e.setRoute("ORDER")):(t.error("Password not created! please try again later or contact IT support!"),e.setRoute("LOGIN"))})).catch((function(n){console.log(n),l(!1),t.error("Cannot connect to server, please check your connection!"),e.setRoute("LOGIN")}))):t.error("password and confirmation do not match, please try again")},y=function(n){n.preventDefault(),l(!0),fetch(i+"login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.user_id,password:f})}).then((function(e){return e.json()})).then((function(n){l(!1),"SUCCESS"===n.status?n.match?(t.success("AUTHENTICATION COMPLETED! Enjoy shopping!"),e.setRoute("ORDER")):(t.error("AUTHENTICATION FAILED! PLEASE TRY AGAIN WITH CORRECT INFORMATION!"),e.setRoute("LOGIN")):(t.error("SERVER ERROR: FAILED TO AUTHENTICATE! PLEASE TRY AGAIN LATER"),e.setRoute("LOGIN"))})).catch((function(n){l(!1),t.error("CANNOT CONNECT TO SERVER, PLEASE CHECK YOUR CONNECTION!"),e.setRoute("LOGIN")}))};return r.a.createElement("div",{id:"main-screen"},c?r.a.createElement("div",{className:"loader"}):e.noPassword.current?r.a.createElement("div",null,r.a.createElement("h1",null,"First time logging in? Create a password for verification!"),r.a.createElement("form",{onSubmit:C,className:"my-form"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",onChange:p}),r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",onChange:function(e){b(e.target.value)}}),r.a.createElement("button",{onClick:C},"Submit"))):r.a.createElement("div",null,r.a.createElement("h1",null,"Verify that it's YOU!"),r.a.createElement("form",{className:"my-form",onSubmit:y},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",onChange:p}),r.a.createElement("button",{onClick:y},"Submit"))),r.a.createElement("img",{src:u.a,alt:"Amazon Logo",width:"320px",height:"auto"}))};var p=function(){var e=Object(d.d)(),t=Object(a.useState)([]),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(""),u=Object(s.a)(l,2),E=u[0],f=u[1],h=Object(a.useState)(""),g=Object(s.a)(h,2),O=g[0],p=g[1],C=Object(a.useRef)(!0),y=Object(a.useState)("LOGIN"),w=Object(s.a)(y,2),v=w[0],j=w[1],L=Object(a.useState)(0),R=Object(s.a)(L,2),N=R[0],T=R[1],I=Object(a.useState)([]),A=Object(s.a)(I,2),_=A[0],k=A[1];return Object(a.useEffect)((function(){fetch(i+"get-list-of-swag/").then((function(e){return e.json()})).then((function(e){k(e.swag_items)})).catch((function(t){e.error("cannot connect to server, check you internet connection!")}))}),[e]),r.a.createElement("div",null,function(){switch(v){case"ORDER":return r.a.createElement(S,{swag:N,setSwag:T,route:v,setRoute:j,setID:p,user_id:O,itemList:_,setItemList:k,setCart:c,cart:o,login:E,setLogin:f});case"PASSWORD":return r.a.createElement(b,{noPassword:C,user_id:O,setRoute:j});default:return r.a.createElement(m,{setRoute:j,setSwag:T,setID:p,setCart:c,login:E,setLogin:f,noPassword:C})}}())};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=n(8),y={position:d.b.BOTTOM_CENTER,timeout:7e3,offset:"30px",transition:d.c.FADE};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,Object.assign({template:C.a},y),r.a.createElement(p,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,n){e.exports=n.p+"static/media/Amazon.2821557b.jpg"},6:function(e,t,n){},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.44b67049.chunk.js.map